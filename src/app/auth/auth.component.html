<div class="login-page">

    <mat-card class="mat-elevation-z12">

        <mat-card-title style="text-align:center;">Entrar no Sistema</mat-card-title>

        <mat-tab-group mat-stretch-tabs class="example-stretched-tabs">

            <mat-tab label="Login">
                <mat-card-content>
                    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">

                        <mat-form-field appearance="outline" hideRequiredMarker>
                            <mat-label>Email</mat-label>
                            <input type="email" formControlName="email" matInput>
                            <mat-icon matSuffix>email</mat-icon>

                            <mat-error *ngIf="loginForm.get('email').hasError('required')">
                                O Email é <strong>obrigatório</strong>
                            </mat-error>
                            <mat-error *ngIf="loginForm.get('email').hasError('email') && !loginForm.get('email').hasError('required')">
                                Por favor, coloque um Email <strong>válido</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" hideRequiredMarker>
                            <mat-label>Senha</mat-label>
                            <input type="password" formControlName="password" matInput>
                            <mat-icon matSuffix>lock</mat-icon>

                            <mat-error *ngIf="loginForm.get('password').hasError('required')">
                                A Senha é <strong>obrigatória</strong>
                            </mat-error>
                        </mat-form-field>

                        <button type="submit" color="primary" class="login-button" mat-raised-button
                            [disabled]="!loginForm.valid || isLoading"
                        >
                            {{ isLoading ? 'Carregando...' : 'Login' }}
                        </button>

                    </form>

                    <button mat-raised-button class="login-button"
                        [disabled]="!loginForm.get('email').valid"
                        (click)="onForgotPass()"
                    >
                        Esqueci minha Senha
                    </button>

                </mat-card-content>
            </mat-tab>

            <mat-tab label="Cadastro">
                <mat-card-content>
                    <form [formGroup]="signupForm" (ngSubmit)="onSignup()">

                        <mat-form-field appearance="outline" hideRequiredMarker>
                            <mat-label>Seu Nome</mat-label>
                            <input matInput formControlName="name">
                            <mat-icon matSuffix>person</mat-icon>

                            <mat-error *ngIf="signupForm.get('name').hasError('required')">
                                O Nome é <strong>obrigatório</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" hideRequiredMarker>
                            <mat-label>Email</mat-label>
                            <input type="email" matInput formControlName="email">
                            <mat-icon matSuffix>email</mat-icon>

                            <mat-error *ngIf="signupForm.get('email').hasError('required')">
                                O Email é <strong>obrigatório</strong>
                            </mat-error>
                            <mat-error *ngIf="signupForm.get('email').hasError('email') && !signupForm.get('email').hasError('required')">
                                Por favor, coloque um Email <strong>válido</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" hideRequiredMarker>
                            <mat-label>Senha</mat-label>
                            <input type="password" matInput formControlName="password">
                            <mat-icon matSuffix>lock</mat-icon>

                            <mat-error *ngIf="signupForm.get('password').hasError('required')">
                                A Senha é <strong>obrigatória</strong>
                            </mat-error>
                            <mat-error *ngIf="signupForm.get('password').hasError('minlength')">
                                A Senha deve conter no minímo <strong>7 Caractéres</strong>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" hideRequiredMarker>
                            <mat-label>Confirme sua Senha</mat-label>
                            <input type="password" matInput formControlName="conf_password">
                            <mat-icon matSuffix>lock</mat-icon>

                            <mat-error *ngIf="signupForm.get('conf_password').hasError('required')">
                                A confirmação de Senha é <strong>obrigatória</strong>
                            </mat-error>

                        </mat-form-field>

                        <button mat-raised-button color="primary" class="login-button"
                            [disabled]="!signupForm.valid || isLoading"
                        >
                            {{ isLoading ? 'Carregando...' : 'Cadastrar' }}
                        </button>

                    </form>
                </mat-card-content>
            </mat-tab>

        </mat-tab-group>

    </mat-card>

</div>
